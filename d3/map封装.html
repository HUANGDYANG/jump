<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    Array.prototype._map = function(fn, context) {

        var temp = [];
        if(typeof fn == 'function') {
            var k = 0;
            var len = this.length;
            // 封装for循环过程
            for(; k < len; k++) {
                // 将每一项的运算操作丢进fn里，利用call方法指定fn的this指向与具体参数
                // debugger
                temp.push(fn.call(context, this[k], k, this))
                debugger
            }
        } else {
            console.error('TypeError: '+ fn +' is not a function.');
        }

        // 返回每一项运算结果组成的新数组
        return temp;
    }

    var newArr = [1, 2, 3, 4]._map(function(item,i) {
        // debugger
        return item + 1;
    },window)

    console.log(newArr);
</script>
</body>
</html>
