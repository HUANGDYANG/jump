<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Title</title>
  </head>
  <body>
    <script>
      function currying(fn) {
        // debugger
        // var test = fn.length
        var slice = Array.prototype.slice,
          __args = slice.call(arguments, 1);
        return function () {
          var __inargs = slice.call(arguments);
          // debugger
          return fn.apply(null, __args.concat(__inargs));
        };
      }
      // 提高适用性
      function square(i) {
        return i * i;
      }

      function dubble(i) {
        return (i *= 2);
      }

      function map(handeler, list) {
        return list.map(handeler);
      }

      var mapSQ = currying(map, square);
      console.log(mapSQ([1, 2, 3, 4, 5]));

      var mapDB = currying(map, dubble);
      console.log(mapDB([1, 2, 3, 4, 5]));
    </script>
  </body>
</html>
